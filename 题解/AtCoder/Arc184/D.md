这是一道非常有意义的入门计数题 .

我们首先考虑对角线的转移 , 朴素的对角线转移会导致计重 , 我们发现原因来自于 $i,j$ 之间形成的矩形中还有其他点 $k.$

但是观察样例可以发现 , 有其他点 $k$ 不意味着方案不能被转移 , 如果存在一个 $k$ , 使得选择他之后矩形内的其他点都被清空 , 那么 $j$ 到 $i$ 的转移就被包含在 $k$ 到 $i$ 的状态之中 , 我们只需要选择 $k$ 后还存在其他点的方案 , 以至于我们可以通过不选 k 构造新的方案 .

这样代码非常好写